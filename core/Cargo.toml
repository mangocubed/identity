[package]
name = "identity-core"
version.workspace = true
edition.workspace = true

[dependencies]
apalis = { workspace = true, optional = true }
apalis-redis = { workspace = true, optional = true }
argon2 = { version = "0.5.3", optional = true }
chrono = { workspace = true, optional = true }
regex = { version = "1.12.2", optional = true }
rust_iso3166 = { workspace = true, optional = true }
serde = { workspace = true }
sqlx = { version = "0.8.6", features = [
    "chrono",
    "postgres",
    "runtime-tokio",
    "uuid",
], optional = true }
tokio = { workspace = true, optional = true }
uuid = { workspace = true }
url = { version = "2.5.7", optional = true }
validator = "0.20.0"
sdk = { workspace = true }

[dev-dependencies]
sdk = { workspace = true, features = ["test-utils"] }

[features]
server = [
    "dep:apalis",
    "dep:apalis-redis",
    "dep:argon2",
    "dep:chrono",
    "dep:regex",
    "dep:rust_iso3166",
    "dep:sqlx",
    "dep:tokio",
    "dep:url",
    "validator/derive",
    "sdk/server",
]
